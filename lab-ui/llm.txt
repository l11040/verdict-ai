# @lab/ui - React UI 컴포넌트 라이브러리 사용 가이드

## 빠른 시작

### 설치
```bash
npm install @lab/ui
# 또는
yarn add @lab/ui
# 또는
pnpm add @lab/ui
```

### 기본 설정

1. **스타일 import** (프로젝트의 메인 파일에 추가)
```tsx
import '@lab/ui/styles'
```

2. **컴포넌트 import**
```tsx
import { Button, Card, TextField, Tabs, Badge } from '@lab/ui'
```

### 최소 예제
```tsx
import '@lab/ui/styles'
import { Button, Card } from '@lab/ui'

function App() {
  return (
    <Card variant="outlined" padding="md">
      <Button color="primary" size="md">클릭</Button>
    </Card>
  )
}
```

## 컴포넌트 사용 가이드

### Button (버튼)

**기본 사용**
```tsx
import { Button } from '@lab/ui'

<Button>기본 버튼</Button>
<Button color="primary" size="md">Primary 버튼</Button>
<Button color="secondary" buttonStyle="outline">Outline 버튼</Button>
<Button color="danger" buttonStyle="ghost">Ghost 버튼</Button>
```

**주요 Props**
- `color`: `'primary' | 'secondary' | 'danger' | 'neutral'` (기본: `'primary'`)
- `buttonStyle`: `'solid' | 'outline' | 'ghost'` (기본: `'solid'`)
- `size`: `'2xs' | 'xs' | 'sm' | 'md' | 'lg' | 'xl' | '2xl'` (기본: `'md'`)
- `start`: 시작 부분에 표시할 아이콘/요소
- `end`: 끝 부분에 표시할 아이콘/요소
- `disabled`: 비활성화 여부
- `className`: 추가 클래스명

**아이콘과 함께 사용**
```tsx
<Button start={<Icon />}>아이콘 버튼</Button>
<Button end={<Icon />}>오른쪽 아이콘</Button>
<Button start={<Icon />} end={<Icon />}>양쪽 아이콘</Button>
```

**실제 사용 예제**
```tsx
<Button 
  color="primary" 
  size="lg" 
  start={<PlusIcon />}
  onClick={handleSubmit}
>
  새로 만들기
</Button>

<Button 
  color="danger" 
  buttonStyle="outline" 
  size="sm"
  disabled={isLoading}
>
  삭제
</Button>
```

### TextField (텍스트 입력 필드)

**기본 사용**
```tsx
import { TextField } from '@lab/ui'

<TextField label="이름" placeholder="이름을 입력하세요" />
<TextField 
  label="이메일" 
  type="email" 
  error={hasError}
  errorMessage="올바른 이메일을 입력하세요"
/>
```

**주요 Props**
- `label`: 라벨 텍스트
- `helperText`: 도움말 텍스트
- `error`: 에러 상태 (boolean)
- `errorMessage`: 에러 메시지
- `size`: `'xs' | 'sm' | 'md' | 'lg' | 'xl'` (기본: `'md'`)
- `color`: `'primary' | 'secondary' | 'neutral'` (기본: `'neutral'`)
- `startIcon`: 시작 아이콘
- `endIcon`: 끝 아이콘
- `disabled`: 비활성화 여부
- `inputClassName`: 입력 필드 클래스명

**react-hook-form과 함께 사용**
```tsx
import { useForm, TextField } from '@lab/ui'

function MyForm() {
  const { register, formState: { errors } } = useForm()
  
  return (
    <form>
      <TextField
        label="이름"
        {...register('name', { required: '이름은 필수입니다' })}
        error={!!errors.name}
        errorMessage={errors.name?.message}
      />
    </form>
  )
}
```

**아이콘과 함께 사용**
```tsx
<TextField 
  label="검색" 
  startIcon={<SearchIcon />}
  placeholder="검색어를 입력하세요"
/>

<TextField 
  label="비밀번호" 
  type="password"
  endIcon={<EyeIcon />}
/>
```

### Card (카드)

**기본 사용**
```tsx
import { Card } from '@lab/ui'

<Card variant="outlined" padding="md">
  <h2>카드 제목</h2>
  <p>카드 내용</p>
</Card>
```

**주요 Props**
- `variant`: `'outlined' | 'filled' | 'elevated'` (기본: `'outlined'`)
- `size`: `'sm' | 'md' | 'lg' | 'xl'` (기본: `'md'`)
- `padding`: `'none' | 'xs' | 'sm' | 'md' | 'lg' | 'xl'` (기본: `'md'`)
- `color`: `'primary' | 'secondary' | 'success' | 'warning' | 'danger' | 'neutral' | 'default'` (기본: `'default'`)

**실제 사용 예제**
```tsx
<Card variant="elevated" padding="lg" className="mb-4">
  <h3 className="text-xl font-bold mb-2">프로필</h3>
  <p>사용자 정보를 표시합니다.</p>
</Card>

<Card variant="filled" color="primary" padding="md">
  <p>강조된 카드</p>
</Card>
```

### Tabs (탭)

**기본 사용**
```tsx
import { Tabs, TabPanel } from '@lab/ui'

const [activeTab, setActiveTab] = useState('tab1')

<Tabs
  items={[
    { id: 'tab1', label: '탭 1' },
    { id: 'tab2', label: '탭 2' },
    { id: 'tab3', label: '탭 3', disabled: true }
  ]}
  value={activeTab}
  onChange={setActiveTab}
  variant="pills"
  color="primary"
/>

<TabPanel>
  {activeTab === 'tab1' && <div>탭 1 내용</div>}
  {activeTab === 'tab2' && <div>탭 2 내용</div>}
</TabPanel>
```

**주요 Props**
- `items`: 탭 아이템 배열 (`TabItem[]`)
  - `id`: 고유 ID (필수)
  - `label`: 탭 라벨
  - `startIcon`: 시작 아이콘
  - `endIcon`: 끝 아이콘
  - `badge`: 뱃지
  - `disabled`: 비활성화 여부
- `value`: 현재 활성화된 탭 ID (제어 모드)
- `onChange`: 탭 변경 핸들러 `(value: string) => void`
- `defaultValue`: 기본 활성화된 탭 ID (비제어 모드)
- `variant`: `'pills' | 'underline' | 'enclosed' | 'chip'` (기본: `'pills'`)
- `size`: `'sm' | 'md' | 'lg'` (기본: `'md'`)
- `color`: `'primary' | 'secondary' | 'success' | 'warning' | 'danger' | 'neutral'` (기본: `'primary'`)
- `orientation`: `'horizontal' | 'vertical'` (기본: `'horizontal'`)

**비제어 모드 (내부 상태 관리)**
```tsx
<Tabs
  items={[
    { id: 'tab1', label: '탭 1' },
    { id: 'tab2', label: '탭 2' }
  ]}
  defaultValue="tab1"
  onChange={(value) => console.log('탭 변경:', value)}
/>
```

**아이콘과 뱃지 사용**
```tsx
<Tabs
  items={[
    { 
      id: 'tab1', 
      label: '알림', 
      startIcon: <BellIcon />,
      badge: <Badge count={5} />
    },
    { id: 'tab2', label: '설정', startIcon: <SettingsIcon /> }
  ]}
  variant="pills"
/>
```

### Badge (뱃지)

**기본 사용**
```tsx
import { Badge } from '@lab/ui'

<Badge>뱃지</Badge>
<Badge color="primary" variant="solid">Primary</Badge>
<Badge color="success" variant="outline">Success</Badge>
```

**주요 Props**
- `color`: `'primary' | 'secondary' | 'success' | 'warning' | 'danger' | 'neutral'` (기본: `'neutral'`)
- `variant`: `'solid' | 'outline' | 'soft'` (기본: `'solid'`)
- `size`: `'xs' | 'sm' | 'md' | 'lg'` (기본: `'sm'`)
- `count`: 숫자 카운트 (표시됨)
- `maxCount`: 최대 카운트 (기본: `99`)
- `dot`: 점 형태로 표시 (boolean)
- `overlay`: 오버레이 형태 (boolean)
- `startIcon`: 시작 아이콘
- `endIcon`: 끝 아이콘

**카운트 뱃지**
```tsx
<Badge count={5}>알림</Badge>
<Badge count={100} maxCount={99}>100+ 표시</Badge>
<Badge count={3} overlay /> {/* 오버레이 형태 */}
```

**점 형태 뱃지**
```tsx
<Badge dot color="danger" />
```

### Divider (구분선)

```tsx
import { Divider } from '@lab/ui'

<Divider />
<Divider orientation="vertical" />
<Divider variant="dashed" />
```

### Tooltip (툴팁)

```tsx
import { Tooltip } from '@lab/ui'

<Tooltip content="툴팁 내용">
  <Button>호버하세요</Button>
</Tooltip>
```

## react-hook-form 통합

패키지는 react-hook-form을 re-export하므로 별도 설치 없이 사용 가능합니다.

```tsx
import { useForm, useFormContext, TextField, Button } from '@lab/ui'
import type { UseFormReturn, FieldValues, SubmitHandler } from '@lab/ui'

interface FormData {
  name: string
  email: string
}

function MyForm() {
  const { register, handleSubmit, formState: { errors } } = useForm<FormData>()
  
  const onSubmit: SubmitHandler<FormData> = (data) => {
    console.log(data)
  }
  
  return (
    <form onSubmit={handleSubmit(onSubmit)}>
      <TextField
        label="이름"
        {...register('name', { required: '이름은 필수입니다' })}
        error={!!errors.name}
        errorMessage={errors.name?.message}
      />
      
      <TextField
        label="이메일"
        type="email"
        {...register('email', { 
          required: '이메일은 필수입니다',
          pattern: {
            value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,
            message: '올바른 이메일을 입력하세요'
          }
        })}
        error={!!errors.email}
        errorMessage={errors.email?.message}
      />
      
      <Button type="submit">제출</Button>
    </form>
  )
}
```

## 디자인 토큰 사용

### Tailwind Config에 통합

```tsx
// tailwind.config.js
import { labUITheme } from '@lab/ui/tokens/tailwind.config'

export default {
  theme: {
    extend: labUITheme,
  },
}
```

### JavaScript/TypeScript에서 사용

```tsx
import { tokens, colors, typography, spacing, shadows, borders } from '@lab/ui'

// 모든 토큰
console.log(tokens)

// 개별 토큰
const primaryColor = colors.primary[600]
const fontSize = typography.fontSize.md
const spacingValue = spacing[4]
```

## 자주 사용되는 패턴

### 폼 구성
```tsx
import { Card, TextField, Button, useForm } from '@lab/ui'

function LoginForm() {
  const { register, handleSubmit, formState: { errors } } = useForm()
  
  return (
    <Card variant="outlined" padding="lg" className="max-w-md mx-auto">
      <h2 className="text-2xl font-bold mb-4">로그인</h2>
      
      <form onSubmit={handleSubmit(onSubmit)} className="space-y-4">
        <TextField
          label="이메일"
          type="email"
          {...register('email', { required: true })}
          error={!!errors.email}
        />
        
        <TextField
          label="비밀번호"
          type="password"
          {...register('password', { required: true })}
          error={!!errors.password}
        />
        
        <Button type="submit" color="primary" size="lg" className="w-full">
          로그인
        </Button>
      </form>
    </Card>
  )
}
```

### 탭과 카드 조합
```tsx
import { Tabs, TabPanel, Card } from '@lab/ui'

function TabbedContent() {
  const [activeTab, setActiveTab] = useState('overview')
  
  return (
    <div>
      <Tabs
        items={[
          { id: 'overview', label: '개요' },
          { id: 'details', label: '상세' },
          { id: 'settings', label: '설정' }
        ]}
        value={activeTab}
        onChange={setActiveTab}
      />
      
      <TabPanel className="mt-4">
        {activeTab === 'overview' && (
          <Card variant="outlined" padding="md">
            <p>개요 내용</p>
          </Card>
        )}
        {activeTab === 'details' && (
          <Card variant="outlined" padding="md">
            <p>상세 내용</p>
          </Card>
        )}
      </TabPanel>
    </div>
  )
}
```

### 버튼 그룹
```tsx
import { Button } from '@lab/ui'

<div className="flex gap-2">
  <Button color="primary">저장</Button>
  <Button color="neutral" buttonStyle="outline">취소</Button>
  <Button color="danger" buttonStyle="ghost">삭제</Button>
</div>
```

## 커스텀 훅

### useDropdownPosition
드롭다운 위치 계산 훅

```tsx
import { useDropdownPosition } from '@lab/ui'

function Dropdown() {
  const { position, ref } = useDropdownPosition({
    placement: 'bottom-start',
    offset: 8
  })
  
  return (
    <div ref={ref} style={position}>
      드롭다운 내용
    </div>
  )
}
```

## 스타일 커스터마이징

### className으로 스타일 추가
모든 컴포넌트는 `className` prop을 지원합니다.

```tsx
<Button className="w-full">전체 너비 버튼</Button>
<Card className="shadow-lg">그림자 강조</Card>
```

### Tailwind 유틸리티 클래스 사용
Tailwind CSS가 설정되어 있다면 모든 유틸리티 클래스를 사용할 수 있습니다.

```tsx
<Card className="mb-4 p-6 bg-gradient-to-r from-blue-500 to-purple-500">
  그라데이션 카드
</Card>
```

## TypeScript 지원

모든 컴포넌트는 완전한 TypeScript 타입 정의를 제공합니다.

```tsx
import type { ButtonProps, CardProps, TextFieldProps } from '@lab/ui'

// Props 타입 사용
const buttonProps: ButtonProps = {
  color: 'primary',
  size: 'md',
  children: '버튼'
}
```

## 문제 해결

### 스타일이 적용되지 않는 경우
1. `@lab/ui/styles`를 import 했는지 확인
2. Tailwind CSS가 프로젝트에 설정되어 있는지 확인
3. `tailwind.config.js`에 `labUITheme`이 포함되어 있는지 확인

### 컴포넌트가 렌더링되지 않는 경우
1. React 18.2.0 이상이 설치되어 있는지 확인
2. `react-hook-form`이 peer dependency로 설치되어 있는지 확인

### 타입 에러가 발생하는 경우
1. TypeScript 5.2 이상 사용
2. `@types/react` 최신 버전 설치

## Export 구조

### 메인 export
```tsx
import { 
  // Components
  Button, IconButton, TextField, Select,
  Badge, Divider, Tooltip,
  Tabs, TabPanel,
  Card,
  // Hooks
  useForm, useFormContext, useDropdownPosition,
  // Types
  UseFormReturn, FieldValues, SubmitHandler
} from '@lab/ui'
```

### 개별 export 경로
```tsx
import '@lab/ui/styles' // 스타일 CSS
import { tokens, colors } from '@lab/ui/tokens' // 디자인 토큰
import { labUITheme } from '@lab/ui/tokens/tailwind.config' // Tailwind 설정
```

## 주요 의존성

- **react** (^18.2.0): 필수
- **react-dom** (^18.2.0): 필수
- **react-hook-form** (^7.49.0): peer dependency (폼 기능 사용 시)
- **tailwindcss** (^3.4.0): 스타일링을 위해 프로젝트에 설정 필요

## 추가 리소스

- Storybook: `npm run storybook` 실행 후 `http://localhost:6006`에서 컴포넌트 문서 확인
- 각 컴포넌트는 `.stories.tsx` 파일에 다양한 사용 예제가 포함되어 있음
